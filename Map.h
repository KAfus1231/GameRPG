#pragma once
#include <SFML/Graphics.hpp>
#include <string>
#include "Player.h"

class Player;

class Map
{
private:
	friend class Player;
	friend class Enemy;

	sf::Texture tileSheetTexture; // текстура карты
	sf::Sprite sprite;

	static const int mapHeight = 10; // высота карты в плитках
	static const int mapWidth = 20; // ширина

	sf::String firstLayer[mapHeight]; // строка элементов для отрисовки карты
	sf::String secondLayer[mapHeight];
	std::vector<sf::Sprite> firstLayerObjects; // вектор для хранения плиток и инфы о них
	std::vector<sf::Sprite> mapObjects; // вектор для хранения объектов карты
	std::vector<sf::Sprite> secondLayerObjects;

	int tileWidth; // кол-во пикселей в плитке по ширине
	int tileHeight; // по высоте

	int totalTilesX; // плитки по X
	int totalTilesY; // плитки по Y

public: 
	Map();
	~Map();

	void LayerLoad(sf::String layer[], std::vector<sf::Sprite> &layerObjects);
	void Initialize();
	void Load();
	void Update(float deltaTime);
	void Draw(sf::RenderWindow& window);
};

